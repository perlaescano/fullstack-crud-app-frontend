{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectWithoutProperties from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _asyncToGenerator from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/src/components/containers/NewCourseContainer.js\";\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport NewCourseView from '../views/NewCourseView';\nimport { addCourseThunk } from '../../store/thunks';\nimport React from 'react';\n\nvar NewCourseContainer = /*#__PURE__*/function (_Component) {\n  _inherits(NewCourseContainer, _Component);\n\n  function NewCourseContainer(props) {\n    var _this;\n\n    _classCallCheck(this, NewCourseContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewCourseContainer).call(this, props));\n\n    _this.handleChange = function (event) {\n      return _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        var _this$state, oldRedirectId, course, _yield$_this$props$ad, redirectId;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                _this$state = _this.state, oldRedirectId = _this$state.redirectId, course = _objectWithoutProperties(_this$state, [\"redirectId\"]);\n                _context.next = 4;\n                return _this.props.addCourse(course);\n\n              case 4:\n                _yield$_this$props$ad = _context.sent;\n                redirectId = _yield$_this$props$ad.id;\n\n                _this.setState({\n                  redirectId: redirectId\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      redirectId: null\n    };\n    return _this;\n  }\n\n  _createClass(NewCourseContainer, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setState({\n        redirectId: null\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.redirectId !== null) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/course/\".concat(this.state.redirectId),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 17\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(NewCourseView, {\n        handleChange: this.handleChange,\n        handleSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }\n      });\n    }\n  }]);\n\n  return NewCourseContainer;\n}(Component);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addCourse: function addCourse(course) {\n      return dispatch(addCourseThunk(course));\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(NewCourseContainer);","map":{"version":3,"names":["Component","connect","Redirect","NewCourseView","addCourseThunk","React","NewCourseContainer","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","state","oldRedirectId","redirectId","course","addCourse","id","mapDispatchToProps","dispatch"],"sources":["/Users/ericdittus/Desktop/fullstack-crud-app-frontend/src/components/containers/NewCourseContainer.js"],"sourcesContent":["import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport NewCourseView from '../views/NewCourseView';\nimport { addCourseThunk } from '../../store/thunks';\nimport React from 'react';\n\n\nclass NewCourseContainer extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n\n          redirectId: null\n        };\n    }\n\n    handleChange = event => this.setState({\n        [event.target.name]: event.target.value\n      });\n\n    handleSubmit = async event => {\n        event.preventDefault();\n        const { redirectId: oldRedirectId, ...course } = this.state;\n\n        const { id: redirectId } = await this.props.addCourse(course);\n        this.setState({ redirectId });\n\n\n    }\n\n    componentWillUnmount() {\n       this.setState({  redirectId: null });\n    }\n\n    render() {\n      if (this.state.redirectId !== null) {\n        return (<Redirect to={`/course/${this.state.redirectId}`}/>)\n        }\n        return (\n          <NewCourseView\n          handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit}\n         />\n        );\n    }\n  }\n\nconst mapDispatchToProps = (dispatch) => {\n  return ({\n      addCourse: (course) => dispatch(addCourseThunk(course)),\n    })\n}\n\nexport default connect(null, mapDispatchToProps)(NewCourseContainer);\n"],"mappings":";;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA,OAAOC,aAAP,MAA0B,wBAA1B;AACA,SAASC,cAAT,QAA+B,oBAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAGMC,kB;;;EACF,4BAAYC,KAAZ,EAAkB;IAAA;;IAAA;;IACd,wFAAMA,KAAN;;IADc,MAQlBC,YARkB,GAQH,UAAAC,KAAK;MAAA,OAAI,MAAKC,QAAL,qBACnBD,KAAK,CAACE,MAAN,CAAaC,IADM,EACCH,KAAK,CAACE,MAAN,CAAaE,KADd,EAAJ;IAAA,CARF;;IAAA,MAYlBC,YAZkB;MAAA,oEAYH,iBAAML,KAAN;QAAA;;QAAA;UAAA;YAAA;cAAA;gBACXA,KAAK,CAACM,cAAN;gBADW,cAEsC,MAAKC,KAF3C,EAESC,aAFT,eAEHC,UAFG,EAE2BC,MAF3B;gBAAA;gBAAA,OAIsB,MAAKZ,KAAL,CAAWa,SAAX,CAAqBD,MAArB,CAJtB;;cAAA;gBAAA;gBAICD,UAJD,yBAIHG,EAJG;;gBAKX,MAAKX,QAAL,CAAc;kBAAEQ,UAAU,EAAVA;gBAAF,CAAd;;cALW;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAZG;;MAAA;QAAA;MAAA;IAAA;;IAEd,MAAKF,KAAL,GAAa;MAEXE,UAAU,EAAE;IAFD,CAAb;IAFc;EAMjB;;;;2CAgBsB;MACpB,KAAKR,QAAL,CAAc;QAAGQ,UAAU,EAAE;MAAf,CAAd;IACF;;;6BAEQ;MACP,IAAI,KAAKF,KAAL,CAAWE,UAAX,KAA0B,IAA9B,EAAoC;QAClC,oBAAQ,oBAAC,QAAD;UAAU,EAAE,oBAAa,KAAKF,KAAL,CAAWE,UAAxB,CAAZ;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,EAAR;MACC;;MACD,oBACE,oBAAC,aAAD;QACA,YAAY,EAAE,KAAKV,YADnB;QAEA,YAAY,EAAE,KAAKM,YAFnB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EADF;IAMH;;;;EArC4Bd,S;;AAwCjC,IAAMsB,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;EACvC,OAAQ;IACJH,SAAS,EAAE,mBAACD,MAAD;MAAA,OAAYI,QAAQ,CAACnB,cAAc,CAACe,MAAD,CAAf,CAApB;IAAA;EADP,CAAR;AAGD,CAJD;;AAMA,eAAelB,OAAO,CAAC,IAAD,EAAOqB,kBAAP,CAAP,CAAkChB,kBAAlC,CAAf"},"metadata":{},"sourceType":"module"}