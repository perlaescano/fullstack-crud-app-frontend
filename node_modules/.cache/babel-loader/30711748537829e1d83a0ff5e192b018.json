{"ast":null,"code":"import _regeneratorRuntime from \"/Users/perlaescano/Downloads/spring-2022/CSCI-39548-web/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/perlaescano/Downloads/spring-2022/CSCI-39548-web/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as ac from './actions/actionCreators';\n\nvar axios = require('axios'); //PATH (should be where your server is running)\n\n\nvar path = \"http://localhost:5000/api\"; // THUNKS\n//All instructors\n\nexport var fetchAllInstructorsThunk = function fetchAllInstructorsThunk() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"\".concat(path, \"/instructors\"));\n\n            case 3:\n              res = _context.sent;\n              dispatch(ac.fetchAllInstructors(res.data));\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n}; //Single instructor\n\nexport var fetchInstructorThunk = function fetchInstructorThunk(id) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.get(\"\".concat(path, \"/instructors/\").concat(id));\n\n            case 3:\n              res = _context2.sent;\n              dispatch(ac.fetchInstructor(res.data));\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n}; //All courses\n\nexport var fetchAllCoursesThunk = function fetchAllCoursesThunk() {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return axios.get(\"\".concat(path, \"/courses\"));\n\n            case 3:\n              res = _context3.sent;\n              dispatch(ac.fetchAllCourses(res.data));\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.error(_context3.t0);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var addCourseThunk = function addCourseThunk(course) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return axios.post(\"\".concat(path, \"/courses\"), course);\n\n            case 3:\n              res = _context4.sent;\n              dispatch(ac.addCourse(res.data));\n              return _context4.abrupt(\"return\", res.data);\n\n            case 8:\n              _context4.prev = 8;\n              _context4.t0 = _context4[\"catch\"](0);\n              console.error(_context4.t0);\n\n            case 11:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 8]]);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var deleteCourseThunk = function deleteCourseThunk(courseId) {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return axios.delete(\"\".concat(path, \"/courses/\").concat(courseId));\n\n            case 3:\n              //delete succesful so change state with dispatch\n              dispatch(ac.deleteCourse(courseId));\n              _context5.next = 9;\n              break;\n\n            case 6:\n              _context5.prev = 6;\n              _context5.t0 = _context5[\"catch\"](0);\n              console.error(_context5.t0);\n\n            case 9:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 6]]);\n    }));\n\n    return function (_x5) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};\nexport var editCourseThunk = function editCourseThunk(course) {\n  return /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch) {\n      var updatedCourse;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return axios.put(\"\".concat(path, \"/courses/\").concat(course.id), course);\n\n            case 3:\n              updatedCourse = _context6.sent;\n              dispatch(ac.editCourse(updatedCourse));\n              _context6.next = 10;\n              break;\n\n            case 7:\n              _context6.prev = 7;\n              _context6.t0 = _context6[\"catch\"](0);\n              console.error(_context6.t0);\n\n            case 10:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 7]]);\n    }));\n\n    return function (_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n}; //Single course\n\nexport var fetchCourseThunk = function fetchCourseThunk(id) {\n  return /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              _context7.next = 3;\n              return axios.get(\"\".concat(path, \"/courses/\").concat(id));\n\n            case 3:\n              res = _context7.sent;\n              dispatch(ac.fetchCourse(res.data));\n              _context7.next = 10;\n              break;\n\n            case 7:\n              _context7.prev = 7;\n              _context7.t0 = _context7[\"catch\"](0);\n              console.error(_context7.t0);\n\n            case 10:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[0, 7]]);\n    }));\n\n    return function (_x7) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"names":["ac","axios","require","path","fetchAllInstructorsThunk","dispatch","get","res","fetchAllInstructors","data","console","error","fetchInstructorThunk","id","fetchInstructor","fetchAllCoursesThunk","fetchAllCourses","addCourseThunk","course","post","addCourse","deleteCourseThunk","courseId","delete","deleteCourse","editCourseThunk","put","updatedCourse","editCourse","fetchCourseThunk","fetchCourse"],"sources":["/Users/perlaescano/Downloads/spring-2022/CSCI-39548-web/fullstack-crud-app-frontend/src/store/thunks.js"],"sourcesContent":["import * as ac from './actions/actionCreators';\nconst axios = require('axios');\n\n//PATH (should be where your server is running)\nlet path = \"http://localhost:5000/api\";\n\n// THUNKS\n\n//All instructors\nexport const fetchAllInstructorsThunk = () => async (dispatch) => {\n  try {\n    let res = await axios.get(`${path}/instructors`);\n    dispatch(ac.fetchAllInstructors(res.data));\n  } catch(err) {\n    console.error(err);\n  }\n};\n\n//Single instructor\nexport const fetchInstructorThunk = (id) => async (dispatch) => {\n  // thunk creator would not an be async function \n  // if using Promise.then:\n  // return axios\n  //   .get(`${path}/api/instructors/${id}`)\n  //   .then((res) => res.data)\n  //   .then((instructor) => dispatch(ac.fetchInstructor(instructor)))\n  //   .catch((err) => console.log(err));\n  try {\n    let res = await axios.get(`${path}/instructors/${id}`);\n    dispatch(ac.fetchInstructor(res.data));\n  } catch(err) {\n    console.error(err);\n  }\n};\n\n//All courses\nexport const fetchAllCoursesThunk = () => async (dispatch) => {\n  try {\n    let res = await axios.get(`${path}/courses`);\n    dispatch(ac.fetchAllCourses(res.data));\n  } catch(err) {\n    console.error(err);\n  }\n};\n\nexport const addCourseThunk = (course) => async (dispatch) => {\n  // course = { title: \"CSCI 127\" }\n  try {\n    let res = await axios.post(`${path}/courses`, course);\n    dispatch(ac.addCourse(res.data));\n    return res.data;\n  } catch(err) {\n    console.error(err);\n  }\n};\n\nexport const deleteCourseThunk = courseId => async dispatch => {\n  try {\n    await axios.delete(`${path}/courses/${courseId}`);\n    //delete succesful so change state with dispatch\n    dispatch(ac.deleteCourse(courseId));\n  } catch(err) {\n    console.error(err);\n  }\n};\n\nexport const editCourseThunk = course => async dispatch => {\n  try {\n    let updatedCourse = await axios.put(`${path}/courses/${course.id}`, course);\n    dispatch(ac.editCourse(updatedCourse));\n  } catch(err) {\n    console.error(err);\n  }\n};\n\n//Single course\nexport const fetchCourseThunk = id => async dispatch => {\n  try {\n    let res = await axios.get(`${path}/courses/${id}`);\n    dispatch(ac.fetchCourse(res.data));\n  } catch(err) {\n    console.error(err);\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}