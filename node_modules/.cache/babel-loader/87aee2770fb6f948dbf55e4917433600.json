{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ericdittus/Desktop/fullstack-crud-app-frontend/src/components/containers/CourseContainer.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\"; //import { fetchCourseThunk } from \"../../store/thunks\";\n\nimport { editCourseThunk, fetchCourseThunk } from \"../../store/thunks\";\nimport { CourseView } from \"../views\";\n\nvar CourseContainer = /*#__PURE__*/function (_Component) {\n  _inherits(CourseContainer, _Component);\n\n  function CourseContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CourseContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CourseContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleChange = function (event) {\n      return _this.setState(function (prevState) {\n        return {\n          editedCourse: _objectSpread({}, prevState.editedCourse, _defineProperty({}, event.target.name, event.target.value))\n        };\n      });\n    };\n\n    _this.cancelFrom = function (event) {\n      return _this.setState({\n        editedCourse: {},\n        cancelForm: null,\n        handleChange: null\n      });\n    };\n\n    _this.handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n\n                if (!_this.state.handleChange) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _context.next = 4;\n                return _this.props.editCourse(_objectSpread({}, _this.state.editedCourse, {\n                  id: _this.props.course.id\n                }));\n\n              case 4:\n                _this.cancelFrom(event);\n\n                _context.next = 8;\n                break;\n\n              case 7:\n                // its the edit button\n                _this.setState({\n                  editedCourse: {},\n                  cancelForm: _this.cancelFrom,\n                  handleChange: _this.handleChange // set handleChange to actually do things\n\n                });\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(CourseContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.fetchCourse(this.props.match.params.id);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(CourseView, {\n        student: this.props.course,\n        cancelForm: this.state.cancelForm,\n        handleChange: this.state.handleChange,\n        handleSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }\n      });\n    }\n  }]);\n\n  return CourseContainer;\n}(Component); // map state to props\n\n\nvar mapState = function mapState(state) {\n  return {\n    course: state.course\n  };\n}; // map dispatch to props\n\n\nvar mapDispatch = function mapDispatch(dispatch) {\n  return {\n    fetchCourse: function fetchCourse(id) {\n      return dispatch(fetchCourseThunk(id));\n    },\n    editCourse: function editCourse(course) {\n      return dispatch(editCourseThunk(course));\n    }\n  };\n};\n\nexport default connect(mapState, mapDispatch)(CourseContainer);","map":{"version":3,"names":["React","Component","connect","editCourseThunk","fetchCourseThunk","CourseView","CourseContainer","handleChange","event","setState","prevState","editedCourse","target","name","value","cancelFrom","cancelForm","handleSubmit","preventDefault","state","props","editCourse","id","course","fetchCourse","match","params","mapState","mapDispatch","dispatch"],"sources":["/Users/ericdittus/Desktop/fullstack-crud-app-frontend/src/components/containers/CourseContainer.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n//import { fetchCourseThunk } from \"../../store/thunks\";\nimport { editCourseThunk, fetchCourseThunk } from \"../../store/thunks\";\nimport { CourseView } from \"../views\";\n\nclass CourseContainer extends Component {\n\n  handleChange = event => this.setState(prevState => ({\n    editedCourse: {\n        ...prevState.editedCourse,\n        [event.target.name]: event.target.value\n    }\n}));\n\n\ncancelFrom = event => this.setState({\n    editedCourse: {},\n    cancelForm: null,\n    handleChange: null\n});\n\nhandleSubmit = async event => {\n    event.preventDefault();\n    if (this.state.handleChange) { // submit button\n        // do the submission\n        await this.props.editCourse({\n            ...this.state.editedCourse,\n            id: this.props.course.id\n        });\n        this.cancelFrom(event);\n    } else { // its the edit button\n        this.setState({\n            editedCourse: {},\n            cancelForm: this.cancelFrom,\n            handleChange: this.handleChange // set handleChange to actually do things\n        });\n\n\n    }\n}\n\ncomponentDidMount() {\n    this.props.fetchCourse(this.props.match.params.id);\n}\n\nrender() {\n    return (\n        <CourseView\n            student={this.props.course}\n            cancelForm={this.state.cancelForm}\n            handleChange={this.state.handleChange}\n            handleSubmit={this.handleSubmit}\n        />\n    );\n}\n}\n// map state to props\nconst mapState = state => {\n  return {\n    course: state.course,\n  };\n};\n\n// map dispatch to props\nconst mapDispatch = (dispatch) => {\n  return {\n    fetchCourse: (id) => dispatch(fetchCourseThunk(id)),\n    editCourse: course => dispatch(editCourseThunk(course))\n  };\n};\n\nexport default connect(mapState, mapDispatch)(CourseContainer);\n"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB,C,CACA;;AACA,SAASC,eAAT,EAA0BC,gBAA1B,QAAkD,oBAAlD;AACA,SAASC,UAAT,QAA2B,UAA3B;;IAEMC,e;;;;;;;;;;;;;;;;UAEJC,Y,GAAe,UAAAC,KAAK;MAAA,OAAI,MAAKC,QAAL,CAAc,UAAAC,SAAS;QAAA,OAAK;UAClDC,YAAY,oBACLD,SAAS,CAACC,YADL,sBAEPH,KAAK,CAACI,MAAN,CAAaC,IAFN,EAEaL,KAAK,CAACI,MAAN,CAAaE,KAF1B;QADsC,CAAL;MAAA,CAAvB,CAAJ;IAAA,C;;UAQtBC,U,GAAa,UAAAP,KAAK;MAAA,OAAI,MAAKC,QAAL,CAAc;QAChCE,YAAY,EAAE,EADkB;QAEhCK,UAAU,EAAE,IAFoB;QAGhCT,YAAY,EAAE;MAHkB,CAAd,CAAJ;IAAA,C;;UAMlBU,Y;0EAAe,iBAAMT,KAAN;QAAA;UAAA;YAAA;cAAA;gBACXA,KAAK,CAACU,cAAN;;gBADW,KAEP,MAAKC,KAAL,CAAWZ,YAFJ;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAID,MAAKa,KAAL,CAAWC,UAAX,mBACC,MAAKF,KAAL,CAAWR,YADZ;kBAEFW,EAAE,EAAE,MAAKF,KAAL,CAAWG,MAAX,CAAkBD;gBAFpB,GAJC;;cAAA;gBAQP,MAAKP,UAAL,CAAgBP,KAAhB;;gBARO;gBAAA;;cAAA;gBASF;gBACL,MAAKC,QAAL,CAAc;kBACVE,YAAY,EAAE,EADJ;kBAEVK,UAAU,EAAE,MAAKD,UAFP;kBAGVR,YAAY,EAAE,MAAKA,YAHT,CAGsB;;gBAHtB,CAAd;;cAVO;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;;wCAoBK;MAChB,KAAKa,KAAL,CAAWI,WAAX,CAAuB,KAAKJ,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBJ,EAA/C;IACH;;;6BAEQ;MACL,oBACI,oBAAC,UAAD;QACI,OAAO,EAAE,KAAKF,KAAL,CAAWG,MADxB;QAEI,UAAU,EAAE,KAAKJ,KAAL,CAAWH,UAF3B;QAGI,YAAY,EAAE,KAAKG,KAAL,CAAWZ,YAH7B;QAII,YAAY,EAAE,KAAKU,YAJvB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EADJ;IAQH;;;;EAjD6BhB,S,GAmD9B;;;AACA,IAAM0B,QAAQ,GAAG,SAAXA,QAAW,CAAAR,KAAK,EAAI;EACxB,OAAO;IACLI,MAAM,EAAEJ,KAAK,CAACI;EADT,CAAP;AAGD,CAJD,C,CAMA;;;AACA,IAAMK,WAAW,GAAG,SAAdA,WAAc,CAACC,QAAD,EAAc;EAChC,OAAO;IACLL,WAAW,EAAE,qBAACF,EAAD;MAAA,OAAQO,QAAQ,CAACzB,gBAAgB,CAACkB,EAAD,CAAjB,CAAhB;IAAA,CADR;IAELD,UAAU,EAAE,oBAAAE,MAAM;MAAA,OAAIM,QAAQ,CAAC1B,eAAe,CAACoB,MAAD,CAAhB,CAAZ;IAAA;EAFb,CAAP;AAID,CALD;;AAOA,eAAerB,OAAO,CAACyB,QAAD,EAAWC,WAAX,CAAP,CAA+BtB,eAA/B,CAAf"},"metadata":{},"sourceType":"module"}